!function(a){"use strict";a.module("angularAnalytics.base",[]).provider("$analytics",function(){var b={additionalAttributes:"",accountInfo:null,parseValue:function(a){var b=parseInt(a,10);return isNaN(b)?0:b},formatUrl:function(a){var b="";return this.additionalAttributes?(b=this.additionalAttributes,-1!==a.indexOf("/")?"/"===a?b+="index":("/"===a[0]&&(a=a.substring(1)),"/"===a[a.length-1]&&(a=a.slice(0,-1)),b+=a.replace("/",":")):b+=a):b=a,b}},c=["setupAccount","sendPageView","sendEvent","sendCustomVar"],d={},e={$get:function(){return b},setAdditionalParameters:function(c){var d="";a.forEach(c,function(a){d+=a+":"}),b.additionalAttributes=d},setAccount:function(a,c){b.accountInfo={accountId:a,domainName:c}}},f=function(b,c){return d[b]||(d[b]=[]),c&&d[b].push(c),function(){var c=arguments;a.forEach(d[b],function(a){a.apply(this,c)},this)}},g=function(){a.forEach(c,function(c){e[c]=function(d){b[c]=f(c,d),a.forEach(b[c],function(a){d.apply(this,a)})},b[c]=f(c)})};return g(),e}).run(["$rootScope","$location","$analytics","$injector",function(a,b,c,d){var e=!0;c.setupAccount(c.accountInfo),d.has("$route")?d.get("$route")&&Object.keys(d.get("$route").routes).length&&(e=!1):d.has("$state")&&Object.keys(d.get("$state").get()).length&&(e=!1),e&&c.sendPageView(b.url()),d.has("$route")&&a.$on("$routeChangeSuccess",function(a,d){d&&(d.$$route||d).redirectTo||c.sendPageView(b.url())}),d.has("$state")&&a.$on("$stateChangeSuccess",function(){c.sendPageView(b.url())})}])}(angular),function(a){"use strict";a.module("angularAnalytics.gaq",["angularAnalytics.base"]).config(["$analyticsProvider",function(b){b.setupAccount(function(a){window._gaq=window._gaq||[],a.accountId&&a.domainName&&(window._gaq.push(["_setAccount",a.accountId]),window._gaq.push(["_setDomainName",a.domainName]))}),b.sendPageView(function(a){_gaq.push(["_trackPageview",this.formatUrl(a)])}),b.sendEvent(function(b,c){if(b&&0!==Object.keys(b).length&&b.action&&b.category){var d=b.category,e=b.action,f=b.label||null,g=this.parseValue(b.value),h=b.noninteraction||null;a.forEach(c,function(a){if(a&&0!==Object.keys(a).length&&a.slot&&a.name&&a.value){var b=this.parseValue(a.slot),c=a.name,d=a.value,e=a.scope||3;_gaq.push(["_setCustomVar",b,c,d,e])}},this),_gaq.push(["_trackEvent",d,e,f,g,h])}}),b.sendCustomVar(function(a){if(a&&0!==Object.keys(a).length&&a.slot&&a.name&&a.value){var b=this.parseValue(a.slot),c=a.name,d=a.value,e=a.scope||3;_gaq.push(["_setCustomVar",b,c,d,e])}})}])}(angular),function(a){"use strict";a.module("angularAnalytics.base").directive("analyticsBind",["$analytics",function(b){function c(a){var b="";return b=a.slice(e(a)?15:9),"undefined"!=typeof b&&null!==b&&b.length>0?b.substring(0,1).toLowerCase()+b.substring(1):b}function d(a){return 0===a.indexOf("analytics")&&a.length>9}function e(a){return 0===a.indexOf("analyticsCustom")}return{restrict:"A",scope:!0,link:function(f,g,h){var i,j,k=h.analyticsBind,l={},m={};h.analyticsFunction&&"function"==typeof f[h.analyticsFunction]?(i=f[h.analyticsFunction].call(),i&&(i.eventProperties&&(l=i.eventProperties),i.customProperties&&(m=i.customProperties))):(l.action=k,a.forEach(h.$attr,function(b,f){if(d(f))if(j=c(f),e(f)){m[j]={},m[j].name=c(f);var g=h[f].split("|");a.forEach(g,function(a,b){switch(b){case 0:m[j].slot=a;break;case 1:m[j].value=a;break;case 2:m[j].scope=a}})}else l[j]=h[f]})),a.element(g[0]).bind(k,function(){(!h.analyticsIf||f.$eval(h.analyticsIf))&&b.sendEvent(l,m)})}}}])}(angular);